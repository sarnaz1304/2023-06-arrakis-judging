BenRai

medium

# OOG for unbound loop for `_ranges` prevents users to deposit additional funds

## Summary
If the length of the array `_ranges` in `ArrakisV2.sol` gets to long the function `mint` will run out of gas and users will not be able to deposit any additional funds


## Vulnerability Detail
If a user wants to deposit assets into a vault, he calls the function `mint` in `ArrakisV2.sol`. This function iterates over the array of `_ranges` and proportionally mints the liquidity provided by the user into each `range` the vault is invested in. If the number of ranges is to big, the function will run out of gas and the user will not be able to deposit any additional assets.  

## Impact
If users cannot deposit their assets into a vault at any time, he might move his assets to another project since he cannot be sure that he will be able to withdraw his assets when he wants when not even depositing is working properly. 

## Code Snippet

https://github.com/sherlock-audit/2023-06-arrakis/blob/9594cf930307ebbfe5cae4f8ad9e9b40b26c9fec/v2-core/contracts/ArrakisV2.sol#L128-L150

## Tool used

Manual Review

## Recommendation

Limit the number of ranges a vault can enter to prevent this issue
