eyexploit

medium

# Missing cap on `outdated` value in setOutdated function could lead to stale oracle data

## Summary
If the `outdated` set to 24 hours or more. The oracle date might be stale one. 

## Vulnerability Detail
ChainLinkOracle.sol#setOutdated() and ChainLinkOraclePivot.sol#setOutdated() do not poses a maxCap on `outdated` value which means if the `outdated` set to high enough or say 24 hours. It could have devastating impact on the protocol. Since the price of oracle could vary in the time gap of 3 hours, putting 3 hour cap could be less riskier. 

## Impact
Stale oracle data

## Code Snippet
https://github.com/sherlock-audit/2023-06-arrakis/blob/9594cf930307ebbfe5cae4f8ad9e9b40b26c9fec/v2-manager-templates/contracts/oracles/ChainLinkOracle.sol#L60-L64

https://github.com/sherlock-audit/2023-06-arrakis/blob/9594cf930307ebbfe5cae4f8ad9e9b40b26c9fec/v2-manager-templates/contracts/oracles/ChainLinkOraclePivot.sol#L66-L70

## Tool used

Manual Review

## Recommendation
Modify to below in above instances,

```solidity
    uint256 private immutable maxBeatTime = 10 minutes; 
    function setOutdated(uint256 outdated_) external onlyOwner {
	require(outdated_ <= maxBeat, "invalid beat");  @audit add this line
        uint256 oldOutdated = outdated;
        outdated = outdated_;
        emit LogSetOutdated(address(this), oldOutdated, outdated_);
    }
```
